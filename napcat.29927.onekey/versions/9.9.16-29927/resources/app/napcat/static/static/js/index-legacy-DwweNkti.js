System.register(["./@vue-legacy-Cq_IbbiN.js","./tdesign-icons-vue-next-legacy-B-JFX7aJ.js","./vue-router-legacy-xIRfnfs7.js","./mitt-legacy-DzTFYSQf.js","./event-source-polyfill-legacy-FHz50NlO.js","./tdesign-vue-next-legacy-CuS_b-jX.js","./qrcode-legacy-BCBiPVPO.js","./@popperjs-legacy-DZ_-87xi.js","./dijkstrajs-legacy-Nu3aLTVb.js"],(function(e,t){"use strict";var a,l,o,n,i,r,s,c,d,u,f,p,m,g,v,h,b,y,w,x,k,_,C,V,S,L,U,Q,P,j,T,M,E,I,z,N,F,O,W,A,q,B,R,G,H,$,D,J,K,Y,X,Z,ee,te,ae,le,oe,ne,ie,re,se,ce,de,ue,fe,pe,me,ge,ve,he,be,ye,we,xe,ke,_e,Ce,Ve,Se,Le,Ue,Qe,Pe,je,Te,Me,Ee,Ie,ze,Ne,Fe,Oe,We,Ae,qe,Be,Re,Ge,He,$e,De,Je,Ke,Ye,Xe,Ze;return{setters:[e=>{a=e.d,l=e.r,o=e.o,n=e.j,i=e.H,r=e.I,s=e.a,c=e.J,d=e.K,u=e.F,f=e.L,p=e.M,m=e.E,g=e.k,v=e.w,h=e.N,b=e.O,y=e.P,w=e.Q,x=e.n,k=e.R,_=e.S,C=e.U,V=e.u,S=e.v,L=e.f,U=e.e},e=>{Q=e.s,P=e.m,j=e.c,T=e.i,M=e.a,E=e.t,I=e.g,z=e.b,N=e.u,F=e.d,O=e.f,W=e.e,A=e.h,q=e.j,B=e.k,R=e.l,G=e.n,H=e.o,$=e.w,D=e.p,J=e.q,K=e._,Y=e.r,X=e.v,Z=e.x,ee=e.y,te=e.z,ae=e.A},e=>{le=e.u,oe=e.c,ne=e.a},e=>{ie=e.m},e=>{re=e.e},e=>{se=e.M,ce=e.B,de=e.I,ue=e.F,fe=e.a,pe=e.S,me=e.O,ge=e.b,ve=e.c,he=e.d,be=e.e,ye=e.C,we=e.R,xe=e.f,ke=e.D,_e=e.L,Ce=e.g,Ve=e.A,Se=e.T,Le=e.h,Ue=e.i,Qe=e.j,Pe=e.k,je=e.l,Te=e.m,Me=e.n,Ee=e.o,Ie=e.p,ze=e.P,Ne=e.q,Fe=e.r,Oe=e.s,We=e.t,Ae=e.u,qe=e.v,Be=e.w,Re=e.x,Ge=e.y,He=e.z,$e=e.E,De=e.G,Je=e.H,Ke=e.J,Ye=e.K,Xe=e.N},e=>{Ze=e.b},null,null],execute:function(){var e=document.createElement("style");e.textContent=".sidebar-menu[data-v-125291f0]{position:fixed;top:0;left:0;height:100%;width:200px;box-shadow:0 4px 8px rgba(0,0,0,.1)}@media (max-width: 768px){.sidebar-menu[data-v-125291f0]{width:100px}}.logo[data-v-125291f0]{display:flex;width:auto;height:100%}.logo-img[data-v-125291f0]{object-fit:contain;margin-top:8px;margin-bottom:8px}.logo-textBox[data-v-125291f0]{display:flex;align-items:center;margin-left:10px}.logo-text[data-v-125291f0]{display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-size:22px;font-family:Sotheby,Helvetica,monospace}.menu-item[data-v-125291f0]{margin-bottom:10px}.bottom-menu[data-v-e183c6ff]{display:flex;justify-content:center;border-top:.8px solid #ddd}.dashboard-container[data-v-9522dded]{display:flex;flex-direction:row;height:100vh;width:100%}.sidebar-menu[data-v-9522dded]{position:relative;z-index:2}.bottom-menu[data-v-9522dded]{position:fixed;bottom:0;width:100%;z-index:2}@media (max-width: 768px){.content[data-v-9522dded]{padding:10px}}@media (max-width: 768px){.t-head-menu__inner .t-menu:first-child{margin-left:0}.t-head-menu__inner{width:100%}.t-head-menu .t-menu{justify-content:space-evenly}.t-menu__content{display:none}}.about-us[data-v-8ddd6f0d]{padding:20px;text-align:left}.label-box[data-v-8ddd6f0d]{display:flex;justify-content:center;align-items:center}.item-icon[data-v-8ddd6f0d]{padding:5px;color:#fff;border-radius:3px;background-image:linear-gradient(-225deg,#2cd8d5,#c5c1ff 56%,#ffbac3)}.item-label[data-v-8ddd6f0d]{flex:1;margin-left:8px;box-sizing:border-box;height:auto;padding:0;border:none;font-size:16px}.item-content[data-v-8ddd6f0d]{flex:2;display:flex;flex-wrap:wrap;justify-content:flex-end}.tag-item[data-v-8ddd6f0d]{margin-right:10px;margin-bottom:10px}.t-list-item{padding:5px var(--td-comp-paddingLR-l)}.item-label{flex:2;background-image:linear-gradient(to right,#fa709a,#fee140);background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:transparent}.pgk-color{color:#fff;background-image:linear-gradient(-225deg,#9be15d,#00e3ae)}.nc-color{color:#fff;background-image:linear-gradient(-225deg,#2cd8d5,#c5c1ff 56%,#ffbac3)}.td-color{color:#fff;background-image:linear-gradient(225deg,#0acffe,#495aff)}.header{background-image:linear-gradient(225deg,#dfffcd,#90f9c4 48%,#39f3bb)!important}.link-text{background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-image:linear-gradient(-225deg,#b6cee8,#f578dc);font-weight:700}.title[data-v-9ed44cc0]{padding:20px 20px 0}.tab-box[data-v-9ed44cc0]{margin:0 20px}.card-box[data-v-9ed44cc0]{margin:10px 20px}.content[data-v-9ed44cc0]{height:56vh;background-image:url("+new URL("../png/logo-BafAtFYg.png",t.meta.url).href+");border:1px solid #ddd6d6!important;padding:5px 10px;text-align:left;overflow-y:auto;margin-top:-10px;font-family:monospace;font-size:15px;line-height:16px}.content span[data-v-9ed44cc0]{white-space:pre-wrap;word-break:break-all;overflow-wrap:break-word}@keyframes fadeInOnce-9ed44cc0{0%{opacity:0}to{opacity:1}}@keyframes fadeOutOnce-9ed44cc0{0%{opacity:1}to{opacity:0}}.content div[data-v-9ed44cc0]{animation:fadeInOnce-9ed44cc0 .5s forwards}[data-v-9ed44cc0]::-webkit-scrollbar{width:5px;background:#f1f1f1}[data-v-9ed44cc0]::-webkit-scrollbar-thumb{background-color:#888;border-radius:4px}.tag-box[data-v-9ed44cc0]{display:flex;justify-content:center;align-items:center;margin-right:5px}.t-tag[data-v-9ed44cc0]{min-width:60px;text-align:center;display:flex;justify-content:center;color:#fff;font-weight:500}#debug[data-v-9ed44cc0]{background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-image:linear-gradient(-225deg,#5271c4,#b19fff 48%,#eca1fe)}#info[data-v-9ed44cc0]{background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-image:linear-gradient(-225deg,#22e1ff,#1d8fe1 48%,#625eb1)}#warn[data-v-9ed44cc0]{background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-image:linear-gradient(225deg,#e14fad,#f9d423 48%,#e37318)}#error[data-v-9ed44cc0]{background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-image:linear-gradient(to left,#ffe29f,#ffa99f 48%,#d94541)}#fatal[data-v-9ed44cc0]{background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-image:linear-gradient(to right,#fd0700,#ec567f)}#other[data-v-9ed44cc0]{background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-image:linear-gradient(to top,#3f51b1,#5a55ae 13%,#7b5fac 25%,#8f6aae 38%,#a86aa4,#cc6b8e 62%,#f18271 75%,#f3a469 87%,#f7c978)}@media (max-width: 786px){.content[data-v-9ed44cc0]{height:50vh;font-family:ProtoNerdFontItalic,monospace;font-size:12px;line-height:14.3px}}.card{padding:5px 10px 20px!important}@media (max-width: 786px){.card{padding:0!important}}.title[data-v-b6532754]{padding:20px 20px 0;display:flex;justify-content:space-between}.setting[data-v-b6532754]{margin:0 20px}.setting-box[data-v-b6532754]{display:grid;grid-template-columns:1fr 1fr 1fr;gap:20px;overflow-y:auto}.setting-card[data-v-b6532754]{width:100%;text-align:left}.setting-content[data-v-b6532754]{width:100%}.card-address svg[data-v-b6532754]{fill:var(--td-brand-color);cursor:pointer}.local-box[data-v-b6532754]{display:flex;margin-top:2px}.local-icon[data-v-b6532754]{flex:1}.local[data-v-b6532754]{flex:6;margin:0 10px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.copy-icon[data-v-b6532754]{flex:1;cursor:pointer;flex-direction:row}.token-view[data-v-b6532754]{display:flex;align-items:center}.token-view span[data-v-b6532754]{flex:5;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.tag-item-on[data-v-b6532754]{color:#fff;cursor:pointer;background-image:linear-gradient(to top,#0ba360,#3cba92)!important}.tag-item-off[data-v-b6532754]{color:#fff;cursor:pointer;background-image:linear-gradient(to top,rgba(255,8,68,.93),#d54941)!important}.browse-icon[data-v-b6532754]{flex:2}.t-dialog__ctx .t-dialog__position{padding:48px 10px}@media (max-width: 1024px){.setting-box[data-v-b6532754]{grid-template-columns:1fr 1fr}}@media (max-width: 786px){.setting-box[data-v-b6532754]{grid-template-columns:1fr}}.card-box[data-v-b6532754]{margin:10px 20px 0}.card-none[data-v-b6532754]{line-height:400px!important}.dialog-body[data-v-b6532754]{max-height:50vh;overflow-y:auto}[data-v-b6532754]::-webkit-scrollbar{width:0;background:transparent}.setting-card .t-card__title{text-align:left!important}.setting-card .t-card__description{margin-bottom:0;font-size:12px}.setting-base-info .t-descriptions__header{font-size:15px;margin-bottom:0}.setting-base-info .t-descriptions__label{padding:0 var(--td-comp-paddingLR-l)!important}.setting-base-info tr>td:last-child{text-align:right}.info-coll .t-collapse-panel__wrapper .t-collapse-panel__content{padding:var(--td-comp-paddingTB-m) var(--td-comp-paddingLR-l)}.layout[data-v-b2627c4e]{height:100vh}.login-container[data-v-b2627c4e]{padding:20px;border-radius:5px;max-width:400px;min-width:300px;position:relative;margin:50px auto}@media (max-width: 600px){.login-container[data-v-b2627c4e]{width:90%;min-width:unset}}.login-methods[data-v-b2627c4e]{display:flex;justify-content:space-between;margin-bottom:20px}.login-method[data-v-b2627c4e]{padding:10px 15px;font-size:16px;cursor:pointer;transition:all .3s}.login-method.active[data-v-b2627c4e]{background-color:#e6f0ff;color:#007bff}.login-form[data-v-b2627c4e],.qrcode[data-v-b2627c4e]{display:flex;flex-direction:column;gap:15px}.qrcode[data-v-b2627c4e]{display:flex;justify-content:center;align-items:center;gap:15px;text-align:center}.sotheby-font[data-v-b2627c4e]{font-family:Sotheby,Helvetica,monospace;font-size:3.125rem;line-height:1.2;text-shadow:0 1px 2px rgba(0,0,0,.1)}.footer[data-v-b2627c4e]{text-align:center;margin:0;font-size:.875rem;color:#888;position:fixed;bottom:20px;left:0;right:0}:root{font-family:Inter,system-ui,Avenir,Helvetica,Arial,sans-serif;line-height:1.5;font-weight:400;color-scheme:light dark;color:rgba(255,255,255,.87);background-color:#242424;font-synthesis:none;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}a{font-weight:500;color:#646cff;text-decoration:inherit}a:hover{color:#535bf2}body{margin:0;display:flex;place-items:center;min-width:320px;min-height:100vh}h1{font-size:3.2em;line-height:1.1}button{border-radius:8px;border:1px solid transparent;padding:.6em 1.2em;font-size:1em;font-weight:500;font-family:inherit;background-color:#1a1a1a;cursor:pointer;transition:border-color .25s}button:hover{border-color:#646cff}button:focus,button:focus-visible{outline:4px auto -webkit-focus-ring-color}.card{padding:2em}#app{height:100%;width:100%;margin:0;text-align:center}@media (prefers-color-scheme: light){:root{color:#213547;background-color:#fff}a:hover{color:#747bff}button{background-color:#f9f9f9}}@font-face{font-family:Sotheby;src:url("+new URL("../ttf/Sotheby-Bahhmb2a.ttf",t.meta.url).href+') format("truetype");font-weight:400;font-style:normal}@font-face{font-family:ProtoNerdFontItalic;src:url('+new URL("../ttf/0xProtoNerdFont-Italic-CxyLJkGM.ttf",t.meta.url).href+') format("truetype");font-weight:400;font-style:normal}.layout[data-v-27371bf8]{height:100vh}.login-container[data-v-27371bf8]{padding:20px;border-radius:5px;max-width:400px;min-width:300px;position:relative;margin:50px auto}@media (max-width: 600px){.login-container[data-v-27371bf8]{width:90%;min-width:unset}}.tdesign-demo-block-column[data-v-27371bf8]{display:flex;flex-direction:column;row-gap:16px}.tdesign-demo-block-column-large[data-v-27371bf8]{display:flex;flex-direction:column;row-gap:32px}.tdesign-demo-block-row[data-v-27371bf8]{display:flex;column-gap:16px;align-items:center}.sotheby-font[data-v-27371bf8]{font-family:Sotheby,Helvetica,monospace;font-size:3.125rem;line-height:1.2;text-shadow:0 1px 2px rgba(0,0,0,.1)}.footer[data-v-27371bf8]{text-align:center;margin:0;font-size:.875rem;color:#888;position:fixed;bottom:20px;left:0;right:0}.title[data-v-e4afc51d]{padding:20px 20px 0}.card[data-v-e4afc51d]{margin:0 20px;padding-top:20px;padding-bottom:20px}.other-config-container[data-v-e4afc51d]{display:flex;justify-content:center;align-items:flex-start;box-sizing:border-box}.other-config[data-v-e4afc51d]{width:100%;max-width:500px;border-radius:8px}.form-item[data-v-e4afc51d]{margin-bottom:20px;text-align:left}.button-container[data-v-e4afc51d]{display:flex;justify-content:center;margin-top:20px}\n/*$vite$:1*/',document.head.appendChild(e);const et={id:"app","theme-mode":"dark"},tt={key:0},at=a({__name:"App",setup(e){const t=window.matchMedia("(max-width: 768px)"),a={"浅色":"light","深色":"dark","自动":"auto"},v=l(!0),h=(()=>{let e=null;return t=>{const a=document.documentElement;if("dark"===t)a.setAttribute("theme-mode","dark");else if("light"===t)a.removeAttribute("theme-mode");else if("auto"===t){e=window.matchMedia("(prefers-color-scheme: dark)");const t=e=>{e.matches?a.setAttribute("theme-mode","dark"):a.removeAttribute("theme-mode")};e.addEventListener("change",t);const l=new Event("change");Object.defineProperty(l,"matches",{value:e.matches,writable:!1}),e.dispatchEvent(l),g((()=>{e&&e.removeEventListener("change",t)}))}}})(),b=()=>{const e=localStorage.getItem("theme");h(null===e?"auto":e)},y=e=>{const t=a[e.item.label];console.log(t),h(t),localStorage.setItem("theme",t)},w=()=>{v.value=!t.matches,t.matches&&localStorage.setItem("theme","auto")};return o((()=>{b(),w(),window.addEventListener("resize",w)})),n((()=>{window.removeEventListener("resize",w)})),(e,t)=>{const a=f("router-view"),l=f("t-sticky-item"),o=f("t-sticky-tool");return p(),i(u,null,[r("div",et,[s(a)]),v.value?(p(),i("div",tt,[s(o,{shape:"round",placement:"right-bottom",offset:[-50,10],onClick:y},{default:c((()=>[s(l,{label:"浅色",popup:"切换浅色模式"},{icon:c((()=>[s(m(Q))])),_:1}),s(l,{label:"深色",popup:"切换深色模式"},{icon:c((()=>[s(m(P))])),_:1}),s(l,{label:"自动",popup:"跟随系统"},{icon:c((()=>[s(m(j))])),_:1})])),_:1})])):d("",!0)],64)}}}),lt=""+new URL("../png/logo_webui-CBEsc38e.png",t.meta.url).href,ot=ie(),nt={class:"logo"},it=["width"],rt={class:"logo-textBox"},st={class:"logo-text"},ct=(e,t)=>{const a=e.__vccOpts||e;for(const[l,o]of t)a[l]=o;return a},dt=ct(a({__name:"Nav",props:{menuItems:{},menuWidth:{}},setup(e){const t=window.matchMedia("(max-width: 800px)"),a=l("true"===localStorage.getItem("sidebar-collapsed")),n=l(a.value?"menu-unfold":"menu-fold"),d=l(!1),m=()=>{a.value=!a.value,n.value=a.value?"menu-unfold":"menu-fold",localStorage.setItem("sidebar-collapsed",a.value.toString())};return v(a,((e,t)=>{ot.emit("sendMenu",a.value)})),o((()=>{ot.emit("sendMenu",a.value);const e=e=>{d.value=e.matches,e.matches&&(a.value=e.matches)};t.addEventListener("change",e);const l=new Event("change");return Object.defineProperty(l,"matches",{value:t.matches,writable:!1}),t.dispatchEvent(l),()=>{t.removeEventListener("change",e)}})),(e,t)=>{const l=f("t-icon"),o=f("t-menu-item"),g=f("t-tooltip"),v=f("router-link"),x=f("t-button"),k=f("t-menu");return p(),h(k,{theme:"light",width:e.menuWidth,collapsed:a.value,class:"sidebar-menu"},{logo:c((()=>[r("div",nt,[r("img",{class:"logo-img",width:a.value?35:"auto",src:lt,alt:"logo"},null,8,it),r("div",rt,[r("div",st,b(a.value?"":"NapCat"),1)])])])),operations:c((()=>[s(x,{disabled:d.value,class:"t-demo-collapse-btn",variant:"text",shape:"square",onClick:m},{icon:c((()=>[s(l,{name:n.value},null,8,["name"])])),_:1},8,["disabled"])])),default:c((()=>[(p(!0),i(u,null,y(e.menuItems,(e=>(p(),h(v,{key:e.value,to:e.route},{default:c((()=>[s(g,{disabled:!a.value,content:e.label,placement:"right"},{default:c((()=>[s(o,{value:e.value,disabled:e.disabled,class:"menu-item"},{icon:c((()=>[s(l,{name:e.icon},null,8,["name"])])),default:c((()=>[w(" "+b(e.label),1)])),_:2},1032,["value","disabled"])])),_:2},1032,["disabled","content"])])),_:2},1032,["to"])))),128))])),_:1},8,["width","collapsed"])}}}),[["__scopeId","data-v-125291f0"]]),ut=ct(a({__name:"NavBottom",props:{menuItems:{}},setup:e=>(e,t)=>{const a=f("t-icon"),l=f("t-menu-item"),o=f("t-tooltip"),n=f("router-link"),r=f("t-head-menu");return p(),h(r,{theme:"light",class:"bottom-menu"},{default:c((()=>[(p(!0),i(u,null,y(e.menuItems,(e=>(p(),h(n,{key:e.value,to:e.route},{default:c((()=>[s(o,{content:e.label,placement:"top"},{default:c((()=>[s(l,{value:e.value,disabled:e.disabled,class:"menu-item"},{icon:c((()=>[s(a,{name:e.icon},null,8,["name"])])),_:2},1032,["value","disabled"])])),_:2},1032,["content"])])),_:2},1032,["to"])))),128))])),_:1})}}),[["__scopeId","data-v-e183c6ff"]]),ft={key:0},pt={key:1,class:"bottom-menu"},mt=ct(a({__name:"Dashboard",setup(e){const t=window.matchMedia("(max-width: 768px)"),a=["232px","64px"],r=l([{value:"item1",icon:"dashboard",label:"基础信息",route:"/dashboard/basic-info"},{value:"item3",icon:"wifi-1",label:"网络配置",route:"/dashboard/network-config"},{value:"item4",icon:"setting",label:"其余配置",route:"/dashboard/other-config"},{value:"item5",icon:"system-log",label:"日志查看",route:"/dashboard/log-view"},{value:"item6",icon:"info-circle",label:"关于我们",route:"/dashboard/about-us"}]);return ot.on("sendMenu",(e=>{const t=e?a[1]:a[0];ot.emit("sendWidth",t),localStorage.setItem("menuWidth",t.toString()||"0")})),o((()=>{t.matches&&localStorage.setItem("menuWidth","0")})),n((()=>{})),(e,l)=>{const o=f("router-view"),n=f("t-layout");return p(),h(n,{class:"dashboard-container"},{default:c((()=>[m(t).matches?d("",!0):(p(),i("div",ft,[s(dt,{"menu-items":r.value,class:"sidebar-menu","menu-width":a},null,8,["menu-items"])])),s(n,null,{default:c((()=>[s(o)])),_:1}),m(t).matches?(p(),i("div",pt,[s(ut,{"menu-items":r.value},null,8,["menu-items"])])):d("",!0)])),_:1})}}}),[["__scopeId","data-v-9522dded"]]),gt={class:"basic-info"},vt=ct({},[["render",function(e,t){return p(),i("div",gt,t[0]||(t[0]=[r("h1",null,"面板基础信息",-1),r("p",null,"这里显示面板的基础信息。",-1)]))}]]),ht={name:"napcat.webui",private:!0,version:"1.0.0",type:"module",scripts:{"webui:lint":"eslint --fix src/**/*.{js,ts,vue}","webui:dev":"vite --host","webui:build":"vite build","webui:preview":"vite preview"},dependencies:{"eslint-plugin-prettier":"^5.2.1","event-source-polyfill":"^1.0.31",qrcode:"^1.5.4","tdesign-icons-vue-next":"^0.3.3","tdesign-vue-next":"^1.10.3",vue:"^3.5.13","vue-router":"^4.4.5"},devDependencies:{"@eslint/eslintrc":"^3.1.0","@eslint/js":"^9.14.0","@types/event-source-polyfill":"^1.0.5","@types/qrcode":"^1.5.5","@vitejs/plugin-legacy":"^5.4.3","@vitejs/plugin-vue":"^5.1.4","eslint-config-prettier":"^9.1.0","eslint-plugin-vue":"^9.31.0",globals:"^15.12.0",terser:"^5.36.0",typescript:"~5.6.2",vite:"^5.4.10","vue-tsc":"^2.1.8"}};class bt{async GetBaseData(){try{const e=await fetch("https://api.github.com/repos/NapNeko/NapCatQQ",{method:"GET",headers:{"Content-Type":"application/json"}});if(200==e.status)return await e.json()}catch(e){console.error("Error getting  github data :",e)}return null}async GetReleasesData(){try{const e=await fetch("https://api.github.com/repos/NapNeko/NapCatQQ/releases",{method:"GET",headers:{"Content-Type":"application/json"}});if(200==e.status)return await e.json()}catch(e){console.error("Error getting releases data:",e)}return null}async GetPullsData(){try{const e=await fetch("https://api.github.com/repos/NapNeko/NapCatQQ/pulls",{method:"GET",headers:{"Content-Type":"application/json"}});if(200==e.status)return await e.json()}catch(e){console.error("Error getting Pulls data:",e)}return null}async GetContributors(){try{const e=await fetch("https://api.github.com/repos/NapNeko/NapCatQQ/contributors",{method:"GET",headers:{"Content-Type":"application/json"}});if(200==e.status)return await e.json()}catch(e){console.error("Error getting Pulls data:",e)}return null}}const yt={class:"about-us"},wt={style:{display:"flex","justify-content":"center","align-items":"center"}},xt={class:"label-box"},kt={class:"item-content"},_t={class:"item-content"},Ct={class:"item-content"},Vt={class:"item-content"},St={class:"item-content"},Lt={class:"item-content"},Ut={class:"item-content"},Qt={class:"item-content"},Pt={class:"item-content"},jt=ct(a({__name:"AboutUs",setup(e){const t=new bt,a=l(null),n=l(null),d=l(null),u=l(null),g=e=>{const t=new Date(e),a=(new Date).getTime()-t.getTime(),l=Math.floor(a/1e3),o=Math.floor(l/60),n=Math.floor(o/60);return n>0?`${n}小时`:o>0?`${o}分钟`:`${l}秒`};return o((()=>{(async()=>{a.value=await t.GetBaseData(),n.value=await t.GetReleasesData(),d.value=await t.GetContributors(),u.value=await t.GetPullsData()})()})),(e,t)=>{const l=f("t-divider"),o=f("t-alert"),v=f("t-link"),h=f("t-list-item"),y=f("t-tag"),x=f("t-list");return p(),i("div",yt,[r("div",null,[s(l,{content:"面板关于信息",align:"left"},{content:c((()=>[r("div",wt,[s(m(T)),t[0]||(t[0]=r("div",{style:{"margin-left":"5px"}},"面板关于信息",-1))])])),_:1}),s(o,{theme:"success",class:"header",message:"NapCat.WebUi is running"}),s(x,null,{default:c((()=>[s(h,null,{default:c((()=>[r("div",xt,[s(m(M),{class:"item-icon",size:"large"}),t[1]||(t[1]=r("span",{class:"item-label"},"Star:",-1))]),r("span",kt,[s(v,{class:"link-text",href:"https://github.com/NapNeko/NapCatQQ/stargazers"},{default:c((()=>[w(b(a.value?.stargazers_count),1)])),_:1})])])),_:1}),s(h,null,{default:c((()=>[s(m(E),{class:"item-icon",size:"large"}),t[2]||(t[2]=r("span",{class:"item-label"},"issues:",-1)),r("span",_t,[s(v,{class:"link-text",href:"https://github.com/NapNeko/NapCatQQ/issues"},{default:c((()=>[w(b(a.value?.open_issues_count),1)])),_:1})])])),_:1}),s(h,null,{default:c((()=>[s(m(I),{class:"item-icon",size:"large"}),t[3]||(t[3]=r("span",{class:"item-label"},"Pull Requests:",-1)),r("span",Ct,[s(v,{class:"link-text",href:"https://github.com/NapNeko/NapCatQQ/pulls"},{default:c((()=>[w(b(u.value?.length),1)])),_:1})])])),_:1}),s(h,null,{default:c((()=>[s(m(z),{class:"item-icon",size:"large"}),t[4]||(t[4]=r("span",{class:"item-label"},"Releases:",-1)),r("span",Vt,[s(v,{class:"link-text",href:"https://github.com/NapNeko/NapCatQQ/releases"},{default:c((()=>[w(b(n.value&&n.value[0]?g(n.value[0].published_at)+"前更新":""),1)])),_:1})])])),_:1}),s(h,null,{default:c((()=>[s(m(N),{class:"item-icon",size:"large"}),t[5]||(t[5]=r("span",{class:"item-label"},"Contributors:",-1)),r("span",St,[s(v,{class:"link-text",href:"https://github.com/NapNeko/NapCatQQ/graphs/contributors"},{default:c((()=>[w(b(d.value?.length),1)])),_:1})])])),_:1}),s(h,null,{default:c((()=>[s(m(F),{class:"item-icon",size:"large"}),t[6]||(t[6]=r("span",{class:"item-label"},"Watchers:",-1)),r("span",Lt,[s(v,{class:"link-text",href:"https://github.com/NapNeko/NapCatQQ/watchers"},{default:c((()=>[w(b(a.value?.watchers),1)])),_:1})])])),_:1}),s(h,null,{default:c((()=>[s(m(O),{class:"item-icon",size:"large"}),t[7]||(t[7]=r("span",{class:"item-label"},"Fork:",-1)),r("span",Ut,[s(v,{class:"link-text",href:"https://github.com/NapNeko/NapCatQQ/fork"},{default:c((()=>[w(b(a.value?.forks_count),1)])),_:1})])])),_:1}),s(h,null,{default:c((()=>[s(m(W),{class:"item-icon",size:"large"}),t[8]||(t[8]=r("span",{class:"item-label"},"License:",-1)),r("span",Qt,[s(v,{class:"link-text",href:"https://github.com/NapNeko/NapCatQQ#License-1-ov-file"},{default:c((()=>[w(b(a.value?.license.key),1)])),_:1})])])),_:1}),s(h,null,{default:c((()=>[s(m(A),{class:"item-icon",size:"large"}),t[9]||(t[9]=r("span",{class:"item-label"},"Version:",-1)),r("span",Pt,[s(y,{class:"tag-item pgk-color"},{default:c((()=>[w(" WebUi: "+b(m(ht).version),1)])),_:1}),s(y,{class:"tag-item nc-color"},{default:c((()=>[w(" NapCat: "+b(n.value&&n.value[0]?.tag_name?n.value[0].tag_name:m("4.2.27")),1)])),_:1}),s(y,{class:"tag-item td-color"},{default:c((()=>[w(" TDesign: "+b(m(ht).dependencies["tdesign-vue-next"]),1)])),_:1})])])),_:1})])),_:1})])])}}}),[["__scopeId","data-v-8ddd6f0d"]]);let Tt=null;class Mt{retCredential;apiPrefix;constructor(e,t="../api"){this.retCredential=e,this.apiPrefix=t}async GetLogList(){try{const e=await fetch(`${this.apiPrefix}/Log/GetLogList`,{method:"GET",headers:{Authorization:"Bearer "+this.retCredential,"Content-Type":"application/json"}});if(200==e.status){const t=await e.json();if(0==t.code)return t?.data}}catch(e){console.error("Error getting LogList:",e)}return[]}async GetLog(e){try{const t=await fetch(`${this.apiPrefix}/Log/GetLog?id=${e}`,{method:"GET",headers:{Authorization:"Bearer "+this.retCredential,"Content-Type":"application/json"}});if(200==t.status){const e=await t.json();if(0==e.code)return e?.data}}catch(t){console.error("Error getting LogData:",t)}return"null"}async getRealTimeLogs(){return this.creatEventSource(),Tt}creatEventSource(){try{Tt=new re.EventSourcePolyfill(`${this.apiPrefix}/Log/GetLogRealTime`,{heartbeatTimeout:18e4,headers:{Authorization:"Bearer "+this.retCredential,Accept:"text/event-stream"},withCredentials:!0})}catch(e){console.error("创建SSE连接出错:",e)}}}const Et={class:"title"},It={style:{display:"flex","justify-content":"center","align-items":"center"}},zt={class:"tab-box"},Nt={class:"card-box"},Ft={class:"tag-box"},Ot=["id"],Wt=a({__name:"Log",setup(e){const t=window.matchMedia("(max-width: 768px)"),a=l("realtime"),g=l(!1),_=l(null);let C=!1;const V=new Mt(localStorage.getItem("auth")||""),S=l(null),L=l(null),U=l(!1),Q=l([{content:"全部",value:1,description:"all"},{content:"调试",value:2,description:"debug"},{content:"提示",value:3,description:"info"},{content:"警告",value:4,description:"warn"},{content:"错误",value:5,description:"error"},{content:"致命",value:5,description:"fatal"}]),P=l({all:"linear-gradient(60deg,#16a085 0%, #f4d03f 100%)",debug:"linear-gradient(-225deg, #5271c4 0%, #b19fff 48%, #eca1fe 100%)",info:"linear-gradient(-225deg, #22e1ff 0%, #1d8fe1 48%, #625eb1 100%)",warn:"linear-gradient(to right, #e14fad 0%, #f9d423 48%, #e37318 100%)",error:"linear-gradient(to left, #ffe29f 0%, #ffa99f 48%, #d94541 100%)",fatal:"linear-gradient(-225deg, #fd0700, #ec567f)"}),j=l(new Map([["all",[]],["debug",[]],["info",[]],["warn",[]],["error",[]],["fatal",[]]])),T=l(new Map([["all",[]],["debug",[]],["info",[]],["warn",[]],["error",[]],["fatal",[]]])),M=l([]),E=l([]),I=l({content:"全部",value:1,description:"all"}),z=e=>{I.value=e},N=["debug","info","warn","error","fatal"],F=()=>{"realtime"===a.value?O(j):O(T)},O=e=>{I.value&&"all"===I.value.description||!I.value?e.value=new Map([["all",[]],["debug",[]],["info",[]],["warn",[]],["error",[]],["fatal",[]]]):e.value.set(I.value.description,[])},W=()=>{O(j)},A=()=>{U.value||(L.value=window.setInterval(W,3e4))},$=(e,t)=>{e.split(/\r\n/).forEach((e=>{if("realtime"===t){let t=JSON.parse(e);const a=t.level||"other",l=a&&P.value[a]?P.value[a]:void 0,o={type:a,content:t.message,color:l,time:""};D(j,a,o)}else if("history"===t){const t=(e=>{const t=/\[([^\]]+)]/.exec(e);if(t&&t[1]){const e=t[1].toLowerCase();if(N.includes(e))return t[1]}return null})(e),a=t||"other",l=/(\d{2}-\d{2} \d{2}:\d{2}:\d{2})|(\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2})/.exec(e);let o=l?l[0]:null;const n=a&&P.value[a]?P.value[a]:void 0,i={type:a,content:e.slice(l?l[0].length:0)||"",color:n,time:o?o+" ":""};D(T,a,i)}}))},D=(e,t,a)=>{const l=e.value.get("all");if(Array.isArray(l)&&l.push(a),"other"!==t){const l=e.value.get(t);Array.isArray(l)&&l.push(a)}},J=e=>{a.value=e},K=(e,t)=>{try{const a=new Blob([e],{type:"text/plain"}),l=URL.createObjectURL(a),o=document.createElement("a");o.href=l,o.download=t,o.click(),(e=>{var t;"object"==typeof(t=window.URL)&&null!==t&&"function"==typeof t.recycleObjectURL&&window.URL.recycleObjectURL(e)})(l)}catch(a){console.error("下载文本时出现错误:",a)}},Y=()=>{if("realtime"===a.value){const e=j.value.get(I.value.description);if(e&&e.length>0){const t=e.map((e=>e.content)).join("\r\n");K(t,"实时日志")}else se.error("暂无可下载日志")}else{const e=T.value.get(I.value.description);if(e&&e.length>0){const t=e.map((e=>e.content)).join("\r\n");K(t,"历史日志")}else se.error("暂无可下载日志")}},X=async()=>{E.value=[],g.value=!0;const e=await V.GetLogList();O(T),e.length>0?M.value=e.map((e=>({label:e,value:e}))):M.value=[]},Z=async()=>{if(E.value.length>0){for(const t of E.value)try{const e=await V.GetLog(t);e&&"null"!==e&&$(e,"history")}catch(e){console.error(`获取日志 ${t} 时出现错误:`,e)}g.value=!1}else se.error("请选择日志")},ee=()=>{C||x((()=>{_.value&&(_.value.scrollTop=_.value.scrollHeight)}))};return v(j,(()=>{C||ee()}),{immediate:!0}),v(T,(()=>{C||ee()}),{immediate:!0}),o((()=>{(async()=>{S.value=await V.getRealTimeLogs(),S.value&&(S.value.onmessage=e=>{console.log(e.data),$(e.data,"realtime")})})(),A(),_.value=document.querySelector(".content"),_.value&&(_.value.style.overflow="hidden",_.value.addEventListener("mouseenter",(()=>{C=!0,_.value&&(_.value.style.overflow="auto"),L.value&&(window.clearInterval(L.value),U.value=!0)})),_.value.addEventListener("mouseleave",(()=>{C=!1,_.value&&(_.value.style.overflow="hidden",C||ee()),U.value&&(A(),U.value=!1),setTimeout((()=>{ee()}),1e3)})),_.value&&new MutationObserver((()=>{ee()})).observe(_.value,{childList:!0,subtree:!0}))})),n((()=>{(async()=>{S.value&&S.value.close()})(),L.value&&(window.clearInterval(L.value),L.value=null)})),(e,l)=>{const o=f("t-divider"),n=f("t-tab-panel"),v=f("t-tabs"),x=f("t-button"),C=f("t-tooltip"),V=f("t-col"),S=f("t-tag"),L=f("t-dropdown"),U=f("t-row"),N=f("t-card"),O=f("t-select"),W=f("t-dialog");return p(),i(u,null,[r("div",Et,[s(o,{content:"日志查看",align:"left"},{content:c((()=>[r("div",It,[s(m(q)),l[2]||(l[2]=r("div",{style:{"margin-left":"5px"}},"日志查看",-1))])])),_:1})]),r("div",zt,[s(v,{"default-value":"realtime",onChange:J},{default:c((()=>[s(n,{value:"realtime",label:"实时日志"}),s(n,{value:"history",label:"历史日志"})])),_:1})]),r("div",Nt,[s(N,{class:"card",bordered:!0},{actions:c((()=>[s(U,{align:"middle",justify:"center",style:k({gap:m(t).matches?"5px":"24px"})},{default:c((()=>[s(V,{flex:"auto",style:{display:"inline-flex","justify-content":"center"}},{default:c((()=>[s(C,{content:"清理日志"},{default:c((()=>[s(x,{variant:"text",shape:"square",onClick:F},{default:c((()=>[s(m(B))])),_:1})])),_:1})])),_:1}),s(V,{flex:"auto",style:{display:"inline-flex","justify-content":"center"}},{default:c((()=>[s(C,{content:"下载日志"},{default:c((()=>[s(x,{variant:"text",shape:"square",onClick:Y},{default:c((()=>[s(m(R))])),_:1})])),_:1})])),_:1}),"history"===a.value?(p(),h(V,{key:0,flex:"auto",style:{display:"inline-flex","justify-content":"center"}},{default:c((()=>[s(C,{content:"历史日志"},{default:c((()=>[s(x,{variant:"text",shape:"square",onClick:X},{default:c((()=>[s(m(G))])),_:1})])),_:1})])),_:1})):d("",!0),s(V,{flex:"auto",style:{display:"inline-flex","justify-content":"center"}},{default:c((()=>[r("div",Ft,[s(S,{class:"t-tag",style:k({backgroundImage:P.value[I.value.description]})},{default:c((()=>[w(b(I.value.content),1)])),_:1},8,["style"])]),s(L,{options:Q.value,"min-column-width":112,onClick:z},{default:c((()=>[s(x,{variant:"text",shape:"square"},{default:c((()=>[s(m(H))])),_:1})])),_:1},8,["options"])])),_:1})])),_:1},8,["style"])])),content:c((()=>[r("div",{class:"content",ref_key:"contentBox",ref:_},[(p(!0),i(u,null,y("realtime"===a.value?j.value.get(I.value.description):T.value.get(I.value.description),(e=>(p(),i("div",null,[r("span",null,b(e.time),1),r("span",{id:e.type},b(e.content),9,Ot)])))),256))],512)])),_:1})]),s(W,{visible:g.value,"onUpdate:visible":l[1]||(l[1]=e=>g.value=e),header:"历史日志","destroy-on-close":!0,"show-in-attached-element":!0,"on-confirm":Z,class:".t-dialog__ctx .t-dialog__position"},{default:c((()=>[s(O,{modelValue:E.value,"onUpdate:modelValue":l[0]||(l[0]=e=>E.value=e),options:M.value,placeholder:"请选择日志",multiple:!0,style:{"text-align":"left"}},null,8,["modelValue","options"])])),_:1},8,["visible"])],64)}}}),At=ct(Wt,[["__scopeId","data-v-9ed44cc0"]]);function qt(e,t){return{...e,...t}}const Bt={network:{httpServers:[],httpClients:[],websocketServers:[],websocketClients:[]},musicSignUrl:"",enableLocalFile2Url:!1,parseMultMsg:!0},Rt={httpServers:{name:"http-server",enable:!1,port:3e3,host:"0.0.0.0",enableCors:!0,enableWebsocket:!0,messagePostFormat:"array",token:"",debug:!1},httpClients:{name:"http-client",enable:!1,url:"http://localhost:8080",messagePostFormat:"array",reportSelfMessage:!1,token:"",debug:!1},websocketServers:{name:"websocket-server",enable:!1,host:"0.0.0.0",port:3001,messagePostFormat:"array",reportSelfMessage:!1,token:"",enableForcePushEvent:!0,debug:!1,heartInterval:3e4},websocketClients:{name:"websocket-client",enable:!1,url:"ws://localhost:8082",messagePostFormat:"array",reportSelfMessage:!1,reconnectInterval:5e3,token:"",debug:!1,heartInterval:3e4}},Gt=a({__name:"HttpServerComponent",props:{config:{}},setup(e){const t=e,a=l([{label:"Array",value:"array"},{label:"String",value:"string"}]);return v((()=>t.config.messagePostFormat),(e=>{"array"!==e&&"string"!==e&&(t.config.messagePostFormat="array")})),(e,t)=>{const l=f("t-switch"),o=f("t-form-item"),n=f("t-input"),r=f("t-select"),d=f("t-form");return p(),i("div",null,[s(d,{labelAlign:"left"},{default:c((()=>[s(o,{label:"启用"},{default:c((()=>[s(l,{modelValue:e.config.enable,"onUpdate:modelValue":t[0]||(t[0]=t=>e.config.enable=t)},null,8,["modelValue"])])),_:1}),s(o,{label:"端口"},{default:c((()=>[s(n,{modelValue:e.config.port,"onUpdate:modelValue":t[1]||(t[1]=t=>e.config.port=t),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])])),_:1}),s(o,{label:"主机"},{default:c((()=>[s(n,{modelValue:e.config.host,"onUpdate:modelValue":t[2]||(t[2]=t=>e.config.host=t),type:"text"},null,8,["modelValue"])])),_:1}),s(o,{label:"启用 CORS"},{default:c((()=>[s(l,{modelValue:e.config.enableCors,"onUpdate:modelValue":t[3]||(t[3]=t=>e.config.enableCors=t)},null,8,["modelValue"])])),_:1}),s(o,{label:"启用 WS"},{default:c((()=>[s(l,{modelValue:e.config.enableWebsocket,"onUpdate:modelValue":t[4]||(t[4]=t=>e.config.enableWebsocket=t)},null,8,["modelValue"])])),_:1}),s(o,{label:"消息格式"},{default:c((()=>[s(r,{modelValue:e.config.messagePostFormat,"onUpdate:modelValue":t[5]||(t[5]=t=>e.config.messagePostFormat=t),options:a.value},null,8,["modelValue","options"])])),_:1}),s(o,{label:"Token"},{default:c((()=>[s(n,{modelValue:e.config.token,"onUpdate:modelValue":t[6]||(t[6]=t=>e.config.token=t),type:"text"},null,8,["modelValue"])])),_:1}),s(o,{label:"调试模式"},{default:c((()=>[s(l,{modelValue:e.config.debug,"onUpdate:modelValue":t[7]||(t[7]=t=>e.config.debug=t)},null,8,["modelValue"])])),_:1})])),_:1})])}}}),Ht=a({__name:"HttpClientComponent",props:{config:{}},setup(e){const t=e,a=l([{label:"Array",value:"array"},{label:"String",value:"string"}]);return v((()=>t.config.messagePostFormat),(e=>{"array"!==e&&"string"!==e&&(t.config.messagePostFormat="array")})),(e,t)=>{const l=f("t-switch"),o=f("t-form-item"),n=f("t-input"),r=f("t-select"),d=f("t-form");return p(),i("div",null,[s(d,{labelAlign:"left"},{default:c((()=>[s(o,{label:"启用"},{default:c((()=>[s(l,{modelValue:e.config.enable,"onUpdate:modelValue":t[0]||(t[0]=t=>e.config.enable=t)},null,8,["modelValue"])])),_:1}),s(o,{label:"URL"},{default:c((()=>[s(n,{modelValue:e.config.url,"onUpdate:modelValue":t[1]||(t[1]=t=>e.config.url=t)},null,8,["modelValue"])])),_:1}),s(o,{label:"消息格式"},{default:c((()=>[s(r,{modelValue:e.config.messagePostFormat,"onUpdate:modelValue":t[2]||(t[2]=t=>e.config.messagePostFormat=t),options:a.value},null,8,["modelValue","options"])])),_:1}),s(o,{label:"报告自身消息"},{default:c((()=>[s(l,{modelValue:e.config.reportSelfMessage,"onUpdate:modelValue":t[3]||(t[3]=t=>e.config.reportSelfMessage=t)},null,8,["modelValue"])])),_:1}),s(o,{label:"Token"},{default:c((()=>[s(n,{modelValue:e.config.token,"onUpdate:modelValue":t[4]||(t[4]=t=>e.config.token=t)},null,8,["modelValue"])])),_:1}),s(o,{label:"调试模式"},{default:c((()=>[s(l,{modelValue:e.config.debug,"onUpdate:modelValue":t[5]||(t[5]=t=>e.config.debug=t)},null,8,["modelValue"])])),_:1})])),_:1})])}}}),$t=a({__name:"WebsocketServerComponent",props:{config:{}},setup(e){const t=e,a=l([{label:"Array",value:"array"},{label:"String",value:"string"}]);return v((()=>t.config.messagePostFormat),(e=>{"array"!==e&&"string"!==e&&(t.config.messagePostFormat="array")})),(e,t)=>{const l=f("t-switch"),o=f("t-form-item"),n=f("t-input"),r=f("t-select"),d=f("t-form");return p(),i("div",null,[s(d,{labelAlign:"left"},{default:c((()=>[s(o,{label:"启用"},{default:c((()=>[s(l,{modelValue:e.config.enable,"onUpdate:modelValue":t[0]||(t[0]=t=>e.config.enable=t)},null,8,["modelValue"])])),_:1}),s(o,{label:"主机"},{default:c((()=>[s(n,{modelValue:e.config.host,"onUpdate:modelValue":t[1]||(t[1]=t=>e.config.host=t)},null,8,["modelValue"])])),_:1}),s(o,{label:"端口"},{default:c((()=>[s(n,{modelValue:e.config.port,"onUpdate:modelValue":t[2]||(t[2]=t=>e.config.port=t),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])])),_:1}),s(o,{label:"消息格式"},{default:c((()=>[s(r,{modelValue:e.config.messagePostFormat,"onUpdate:modelValue":t[3]||(t[3]=t=>e.config.messagePostFormat=t),options:a.value},null,8,["modelValue","options"])])),_:1}),s(o,{label:"上报自身消息"},{default:c((()=>[s(l,{modelValue:e.config.reportSelfMessage,"onUpdate:modelValue":t[4]||(t[4]=t=>e.config.reportSelfMessage=t)},null,8,["modelValue"])])),_:1}),s(o,{label:"Token"},{default:c((()=>[s(n,{modelValue:e.config.token,"onUpdate:modelValue":t[5]||(t[5]=t=>e.config.token=t)},null,8,["modelValue"])])),_:1}),s(o,{label:"强制推送事件"},{default:c((()=>[s(l,{modelValue:e.config.enableForcePushEvent,"onUpdate:modelValue":t[6]||(t[6]=t=>e.config.enableForcePushEvent=t)},null,8,["modelValue"])])),_:1}),s(o,{label:"调试模式"},{default:c((()=>[s(l,{modelValue:e.config.debug,"onUpdate:modelValue":t[7]||(t[7]=t=>e.config.debug=t)},null,8,["modelValue"])])),_:1}),s(o,{label:"心跳间隔"},{default:c((()=>[s(n,{modelValue:e.config.heartInterval,"onUpdate:modelValue":t[8]||(t[8]=t=>e.config.heartInterval=t),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])])),_:1})])),_:1})])}}}),Dt=a({__name:"WebsocketClientComponent",props:{config:{}},setup(e){const t=e,a=l([{label:"Array",value:"array"},{label:"String",value:"string"}]);return v((()=>t.config.messagePostFormat),(e=>{"array"!==e&&"string"!==e&&(t.config.messagePostFormat="array")})),(e,t)=>{const l=f("t-switch"),o=f("t-form-item"),n=f("t-input"),r=f("t-select"),d=f("t-form");return p(),i("div",null,[s(d,{labelAlign:"left"},{default:c((()=>[s(o,{label:"启用"},{default:c((()=>[s(l,{modelValue:e.config.enable,"onUpdate:modelValue":t[0]||(t[0]=t=>e.config.enable=t)},null,8,["modelValue"])])),_:1}),s(o,{label:"URL"},{default:c((()=>[s(n,{modelValue:e.config.url,"onUpdate:modelValue":t[1]||(t[1]=t=>e.config.url=t)},null,8,["modelValue"])])),_:1}),s(o,{label:"消息格式"},{default:c((()=>[s(r,{modelValue:e.config.messagePostFormat,"onUpdate:modelValue":t[2]||(t[2]=t=>e.config.messagePostFormat=t),options:a.value},null,8,["modelValue","options"])])),_:1}),s(o,{label:"报告自身消息"},{default:c((()=>[s(l,{modelValue:e.config.reportSelfMessage,"onUpdate:modelValue":t[3]||(t[3]=t=>e.config.reportSelfMessage=t)},null,8,["modelValue"])])),_:1}),s(o,{label:"Token"},{default:c((()=>[s(n,{modelValue:e.config.token,"onUpdate:modelValue":t[4]||(t[4]=t=>e.config.token=t)},null,8,["modelValue"])])),_:1}),s(o,{label:"调试模式"},{default:c((()=>[s(l,{modelValue:e.config.debug,"onUpdate:modelValue":t[5]||(t[5]=t=>e.config.debug=t)},null,8,["modelValue"])])),_:1}),s(o,{label:"心跳间隔"},{default:c((()=>[s(n,{modelValue:e.config.heartInterval,"onUpdate:modelValue":t[6]||(t[6]=t=>e.config.heartInterval=t),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])])),_:1})])),_:1})])}}});class Jt{retCredential;apiPrefix;constructor(e,t="../api"){this.retCredential=e,this.apiPrefix=t}async GetOB11Config(){try{const e=await fetch(`${this.apiPrefix}/OB11Config/GetConfig`,{method:"POST",headers:{Authorization:"Bearer "+this.retCredential,"Content-Type":"application/json"}});if(200==e.status){const t=await e.json();if(0==t.code)return t?.data}}catch(e){console.error("Error getting OB11 config:",e)}return{}}async SetOB11Config(e){try{const t=await fetch(`${this.apiPrefix}/OB11Config/SetConfig`,{method:"POST",headers:{Authorization:"Bearer "+this.retCredential,"Content-Type":"application/json"},body:JSON.stringify({config:JSON.stringify(e)})});if(200==t.status&&0==(await t.json()).code)return!0}catch(t){console.error("Error setting OB11 config:",t)}return!1}async checkQQLoginStatus(){try{const e=await fetch(`${this.apiPrefix}/QQLogin/CheckLoginStatus`,{method:"POST",headers:{Authorization:"Bearer "+this.retCredential,"Content-Type":"application/json"}});if(200==e.status){const t=await e.json();if(0==t.code)return t.data.isLogin}}catch(e){console.error("Error checking QQ login status:",e)}return!1}async checkQQLoginStatusWithQrcode(){try{const e=await fetch(`${this.apiPrefix}/QQLogin/CheckLoginStatus`,{method:"POST",headers:{Authorization:"Bearer "+this.retCredential,"Content-Type":"application/json"}});if(200==e.status){const t=await e.json();if(0==t.code)return t.data}}catch(e){console.error("Error checking QQ login status:",e)}}async checkWebUiLogined(){try{const e=await fetch(`${this.apiPrefix}/auth/check`,{method:"POST",headers:{Authorization:"Bearer "+this.retCredential,"Content-Type":"application/json"}});if(200==e.status&&0==(await e.json()).code)return!0}catch(e){console.error("Error checking web UI login status:",e)}return!1}async loginWithToken(e){try{const t=await fetch(`${this.apiPrefix}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e})}),a=await t.json();if(0===a.code)return this.retCredential=a.data.Credential,this.retCredential}catch(t){console.error("Error logging in with token:",t)}return null}async getQQLoginQrcode(){try{const e=await fetch(`${this.apiPrefix}/QQLogin/GetQQLoginQrcode`,{method:"POST",headers:{Authorization:"Bearer "+this.retCredential,"Content-Type":"application/json"}});if(200==e.status){const t=await e.json();if(0==t.code)return t.data.qrcode||""}}catch(e){console.error("Error getting QQ login QR code:",e)}return""}async getQQQuickLoginList(){try{const e=await fetch(`${this.apiPrefix}/QQLogin/GetQuickLoginList`,{method:"POST",headers:{Authorization:"Bearer "+this.retCredential,"Content-Type":"application/json"}});if(200==e.status){const t=await e.json();if(0==t.code)return t.data||[]}}catch(e){console.error("Error getting QQ quick login list:",e)}return[]}async setQuickLogin(e){try{const t=await fetch(`${this.apiPrefix}/QQLogin/SetQuickLogin`,{method:"POST",headers:{Authorization:"Bearer "+this.retCredential,"Content-Type":"application/json"},body:JSON.stringify({uin:e})});if(200==t.status){const e=await t.json();return 0==e.code?{result:!0,errMsg:""}:{result:!1,errMsg:e.message}}}catch(t){console.error("Error setting quick login:",t)}return{result:!1,errMsg:"接口异常"}}}const Kt={style:{display:"flex","justify-content":"center","align-items":"center"}},Yt={key:0,id:"alice",style:{height:"80vh",position:"relative"}},Xt={class:"setting-content"},Zt={key:0,class:"local-box"},ea={class:"local"},ta={key:1,class:"local-box"},aa={class:"local"},la={key:0,class:"token-view"},oa={key:1},na=["onClick"],ia={slot:"body",class:"dialog-body"},ra=a({__name:"NetWork",setup(e){const t=l(!1),a=l(!0),g=l(0),x=l(0),V=l(0),S=l(0),L=window.matchMedia("(min-width: 768px) and (max-width: 1024px)"),U=window.matchMedia("(min-width: 1025px)"),Q=l(null),P=l(null),j=l(!1),T=l(!1),M=l({name:"",data:{},type:""}),E=l(""),I={httpServers:Gt,httpClients:Ht,websocketServers:$t,websocketClients:Dt},z=l(""),N=l(0),F={websocketClients:[],websocketServers:[],httpClients:[],httpServers:[]},O=l(new Map([["all",[]],["httpServers",[]],["httpClients",[]],["websocketServers",[]],["websocketClients",[]]])),W={httpServers:"HTTP 服务器",httpClients:"HTTP 客户端",websocketServers:"WebSocket 服务器",websocketClients:"WebSocket 客户端"},A=l([]),q=e=>I[e],B=(e,t)=>Object.entries(e).find((([e,a])=>a===t))?.[0],R=async(e,t)=>{const a=B(W,e.type),l={...e};l[t]=!e[t],a&&(M.value={name:e.name,data:l,type:a}),z.value="edit",N.value=F[M.value.type].findIndex((t=>t.name===e.name)),await ae()},G=e=>{A.value=O.value.get(e)},H=e=>{M.value.data=structuredClone(Rt[e])},te=e=>{const t=O.value.get("all")?.findIndex((t=>t.name===e));return""===M.value.name||""===M.value.type?(se.error("请填写完整信息"),!1):-1===t||M.value.data.name===e||(se.error("名称已存在"),!1)},ae=async()=>{if("add"==z.value){if(!te(M.value.name))return;M.value.data.name=M.value.name,F[M.value.type].push(M.value.data)}else if("edit"==z.value){if(!te(M.value.name))return;M.value.data.name=M.value.name,F[M.value.type][N.value]=M.value.data}else"delete"==z.value&&F[M.value.type].splice(N.value,1);const e=await le();e&&(e.network=F,await oe(e)?(z.value="",N.value=0,se.success("配置保存成功"),await ne(),T.value=!1):se.error("配置保存失败"))},le=async()=>{const e=localStorage.getItem("auth");if(!e)return void console.error("No stored credential found");const t=new Jt(e);return await t.GetOB11Config()},oe=async e=>{const t=localStorage.getItem("auth");if(!t)return console.error("No stored credential found"),!1;const a=new Jt(t);return await a.SetOB11Config(e)},ne=async()=>{try{const e=await le();if(!e)return;const t=function(e,t=Bt){const a={...t};if(e.network){a.network={...t.network};for(const t in e.network){const l=e.network[t],o=Rt[t];Array.isArray(l)&&(a.network[t]=l.map((e=>qt(o,e))))}}return void 0!==e.musicSignUrl&&(a.musicSignUrl=e.musicSignUrl),void 0!==e.enableLocalFile2Url&&(a.enableLocalFile2Url=e.enableLocalFile2Url),void 0!==e.parseMultMsg&&(a.parseMultMsg=e.parseMultMsg),a}(e);(e=>{A.value=[],O.value.set("all",[]);for(const t in e){const a=e[t];if(t in Rt){F[t]=[...a];const e=a.map((e=>({...e,type:W[t]})));O.value.set(t,e);const l=O.value.get("all");if(l){const t=[...l,...e];O.value.set("all",t)}A.value=O.value.get("all")}}})(t.network)}catch(e){console.error("Error loading config:",e)}},ie=async e=>{const t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select();try{document.execCommand("copy"),se.success("复制成功")}catch(a){console.error("复制失败",a)}finally{document.body.removeChild(t)}},re=()=>{g.value=window.innerWidth-41-x.value,L.matches?V.value=(g.value-20)/2:U.matches?V.value=(g.value-40)/3:V.value=g.value,j.value=!0,setTimeout((()=>{S.value=window.innerHeight-(Q.value?.offsetHeight??0)-(P.value?.offsetHeight??0)-21}),300)};return ot.on("sendWidth",(e=>{if("string"==typeof e){const t=e;x.value=parseInt(t)}})),v(x,((e,t)=>{j.value=!1,setTimeout((()=>{re()}),300)})),o((()=>{ne();const e=localStorage.getItem("menuWidth");e&&(x.value=parseInt(e),setTimeout((()=>{re()}),300)),window.addEventListener("resize",(()=>{setTimeout((()=>{re()}),300)}))})),n((()=>{window.removeEventListener("resize",(()=>{setTimeout((()=>{re()}),300)}))})),(e,l)=>{const o=f("t-divider"),n=f("t-button"),v=f("t-tab-panel"),x=f("t-tabs"),I=f("t-loading"),O=f("t-popconfirm"),te=f("t-space"),le=f("t-card"),oe=f("t-tag"),ne=f("t-popup"),re=f("t-descriptions-item"),se=f("t-descriptions"),ce=f("t-collapse-panel"),de=f("t-collapse"),ue=f("t-empty"),fe=f("t-input"),pe=f("t-form-item"),me=f("t-option"),ge=f("t-select"),ve=f("t-form"),he=f("t-dialog");return p(),i(u,null,[r("div",{ref_key:"headerBox",ref:Q,class:"title"},[s(o,{content:"网络配置",align:"left"},{content:c((()=>[r("div",Kt,[s(m($)),l[6]||(l[6]=r("div",{style:{"margin-left":"5px"}},"网络配置",-1))])])),_:1}),s(o,{align:"right"},{default:c((()=>[s(n,{onClick:l[0]||(l[0]=e=>(E.value="添加配置",M.value={name:"",data:{},type:""},z.value="add",void(T.value=!0)))},{icon:c((()=>[s(m(D))])),default:c((()=>[l[7]||(l[7]=w(" 添加配置"))])),_:1})])),_:1})],512),j.value?(p(),i("div",{key:0,ref_key:"setting",ref:P,class:"setting"},[s(x,{ref:"tabsRef",style:k({width:g.value+"px"}),"default-value":"all",onChange:G},{default:c((()=>[s(v,{value:"all",label:"全部"}),s(v,{value:"httpServers",label:"HTTP 服务器"}),s(v,{value:"httpClients",label:"HTTP 客户端"}),s(v,{value:"websocketServers",label:"WebSocket 服务器"}),s(v,{value:"websocketClients",label:"WebSocket 客户端"})])),_:1},8,["style"])],512)):d("",!0),s(I,{attach:"#alice",loading:!j.value,showOverlay:!1},{default:c((()=>[j.value?d("",!0):(p(),i("div",Yt))])),_:1},8,["loading"]),j.value?(p(),i("div",{key:1,class:"card-box",style:k({width:g.value+"px"})},[A.value.length>0?(p(),i("div",{key:0,class:"setting-box",style:k({maxHeight:S.value+"px"})},[(p(!0),i(u,null,y(A.value,((e,o)=>(p(),i("div",{key:o},[s(le,{title:e.name,description:e.type,style:k({width:V.value+"px"}),"header-bordered":!0,class:"setting-card"},{actions:c((()=>[s(te,null,{default:c((()=>[s(m(J),{size:"20px",onClick:t=>(e=>{E.value="修改配置";const t=B(W,e.type);t&&(M.value={name:e.name,data:e,type:t}),z.value="edit",N.value=F[M.value.type].findIndex((t=>t.name===e.name)),T.value=!0})(e)},null,8,["onClick"]),s(O,{content:"确认删除",onConfirm:t=>(e=>{const t=B(W,e.type);t&&(M.value={name:e.name,data:e,type:t}),N.value=N.value=F[M.value.type].findIndex((t=>t.name===e.name)),z.value="delete",ae()})(e)},{default:c((()=>[s(m(K),{size:"20px"})])),_:2},1032,["onConfirm"])])),_:2},1024)])),default:c((()=>[r("div",Xt,[s(le,{class:"card-address",style:k({borderLeft:"7px solid "+(e.enable?"var(--td-success-color)":"var(--td-error-color)")})},{default:c((()=>[e.host&&e.port?(p(),i("div",Zt,[s(m(Y),{class:"local-icon",size:"20px",onClick:t=>R(e,"enable")},null,8,["onClick"]),r("strong",ea,b(e.host)+":"+b(e.port),1),s(m(X),{class:"copy-icon",size:"20px",onClick:t=>ie(e.host+":"+e.port)},null,8,["onClick"])])):d("",!0),e.url?(p(),i("div",ta,[s(m(Y),{class:"local-icon",size:"20px",onClick:t=>R(e,"enable")},null,8,["onClick"]),r("strong",aa,b(e.url),1),s(m(X),{class:"copy-icon",size:"20px",onClick:t=>ie(e.url)},null,8,["onClick"])])):d("",!0)])),_:2},1032,["style"]),s(de,{"default-value":[0],"expand-mutex":"",style:{"margin-top":"10px"},class:"info-coll"},{default:c((()=>[s(ce,{header:"基础信息"},{default:c((()=>[s(se,{size:"small",layout:a.value?"vertical":"horizontal",class:"setting-base-info"},{default:c((()=>[e.token?(p(),h(re,{key:0,label:"连接密钥"},{default:c((()=>[m(L).matches||m(U).matches?(p(),i("div",la,[r("span",null,b(t.value?e.token:"******"),1),t.value?(p(),h(m(Z),{key:0,class:"browse-icon",size:"18px",onClick:l[1]||(l[1]=e=>t.value=!1)})):(p(),h(m(ee),{key:1,class:"browse-icon",size:"18px",onClick:l[2]||(l[2]=e=>t.value=!0)}))])):(p(),i("div",oa,[s(ne,{showArrow:!0,trigger:"click"},{content:c((()=>[r("div",{onClick:t=>ie(e.token)},b(e.token),9,na)])),default:c((()=>[s(oe,{theme:"primary"},{default:c((()=>l[8]||(l[8]=[w("点击查看")]))),_:1})])),_:2},1024)]))])),_:2},1024)):d("",!0),s(re,{label:"消息格式"},{default:c((()=>[w(b(e.messagePostFormat),1)])),_:2},1024)])),_:2},1032,["layout"])])),_:2},1024),s(ce,{header:"状态信息"},{default:c((()=>[s(se,{size:"small",layout:a.value?"vertical":"horizontal",class:"setting-base-info"},{default:c((()=>[e.hasOwnProperty("debug")?(p(),h(re,{key:0,label:"调试日志"},{default:c((()=>[s(oe,{class:_(e.debug?"tag-item-on":"tag-item-off"),onClick:t=>R(e,"debug")},{default:c((()=>[w(b(e.debug?"开启":"关闭"),1)])),_:2},1032,["class","onClick"])])),_:2},1024)):d("",!0),e.hasOwnProperty("enableWebsocket")?(p(),h(re,{key:1,label:"Websocket 功能"},{default:c((()=>[s(oe,{class:_(e.enableWebsocket?"tag-item-on":"tag-item-off"),onClick:t=>R(e,"enableWebsocket")},{default:c((()=>[w(b(e.enableWebsocket?"启用":"禁用"),1)])),_:2},1032,["class","onClick"])])),_:2},1024)):d("",!0),e.hasOwnProperty("enableCors")?(p(),h(re,{key:2,label:"跨域放行"},{default:c((()=>[s(oe,{class:_(e.enableCors?"tag-item-on":"tag-item-off"),onClick:t=>R(e,"enableCors")},{default:c((()=>[w(b(e.enableCors?"开启":"关闭"),1)])),_:2},1032,["class","onClick"])])),_:2},1024)):d("",!0),e.hasOwnProperty("enableForcePushEvent")?(p(),h(re,{key:3,label:"上报自身消息"},{default:c((()=>[s(oe,{class:_(e.reportSelfMessage?"tag-item-on":"tag-item-off"),onClick:t=>R(e,"reportSelfMessage")},{default:c((()=>[w(b(e.reportSelfMessage?"开启":"关闭"),1)])),_:2},1032,["class","onClick"])])),_:2},1024)):d("",!0),e.hasOwnProperty("enableForcePushEvent")?(p(),h(re,{key:4,label:"强制推送事件"},{default:c((()=>[s(oe,{class:_(["tag-item",e.enableForcePushEvent?"tag-item-on":"tag-item-off"]),onClick:t=>R(e,"enableForcePushEvent")},{default:c((()=>[w(b(e.enableForcePushEvent?"开启":"关闭"),1)])),_:2},1032,["class","onClick"])])),_:2},1024)):d("",!0)])),_:2},1032,["layout"])])),_:2},1024)])),_:2},1024)])])),_:2},1032,["title","description","style"])])))),128)),l[9]||(l[9]=r("div",{style:{height:"20vh"}},null,-1))],4)):(p(),h(le,{key:1},{default:c((()=>[s(ue,{class:"card-none",title:"暂无网络配置"})])),_:1}))],4)):d("",!0),s(he,{visible:T.value,"onUpdate:visible":l[5]||(l[5]=e=>T.value=e),header:E.value,"destroy-on-close":!0,"show-in-attached-element":!0,"on-confirm":ae,class:".t-dialog__ctx .t-dialog__position"},{default:c((()=>[r("div",ia,[s(ve,{ref:"form",data:M.value,labelAlign:"left",model:M.value},{default:c((()=>[s(pe,{style:{"text-align":"left"},rules:[{required:!0,message:"请输入名称",trigger:"blur"}],label:"名称",name:"name"},{default:c((()=>[s(fe,{modelValue:M.value.name,"onUpdate:modelValue":l[3]||(l[3]=e=>M.value.name=e)},null,8,["modelValue"])])),_:1}),s(pe,{style:{"text-align":"left"},rules:[{required:!0,message:"请选择类型",trigger:"change"}],label:"类型",name:"type"},{default:c((()=>[s(ge,{modelValue:M.value.type,"onUpdate:modelValue":l[4]||(l[4]=e=>M.value.type=e),onChange:H},{default:c((()=>[s(me,{value:"httpServers"},{default:c((()=>l[10]||(l[10]=[w("HTTP 服务器")]))),_:1}),s(me,{value:"httpClients"},{default:c((()=>l[11]||(l[11]=[w("HTTP 客户端")]))),_:1}),s(me,{value:"websocketServers"},{default:c((()=>l[12]||(l[12]=[w("WebSocket 服务器")]))),_:1}),s(me,{value:"websocketClients"},{default:c((()=>l[13]||(l[13]=[w("WebSocket 客户端")]))),_:1})])),_:1},8,["modelValue"])])),_:1}),r("div",null,[(p(),h(C(C(q(M.value.type))),{config:M.value.data},null,8,["config"]))])])),_:1},8,["data","model"])])])),_:1},8,["visible","header"])],64)}}}),sa=ct(ra,[["__scopeId","data-v-b6532754"]]),ca={class:"login-container"},da={class:"login-methods"},ua={id:"quick-login-dropdown",class:"login-form"},fa={id:"qrcode",class:"qrcode"},pa=a({__name:"QQLogin",setup(e){const t=le(),a=l("quick"),n=l([]),d=l(""),m=l(null),g=new Jt(localStorage.getItem("auth")||"");let v=null,x="";const k=async e=>{const{result:a,errMsg:l}=await g.setQuickLogin(e);a?(v&&clearInterval(v),await se.success("登录成功即将跳转"),await t.push({path:"/dashboard/basic-info"})):await se.error("登录失败,"+l)},C=(e,t)=>{t?Ze.toCanvas(t,e,(function(e){e?console.error("Error generating QR Code:",e):console.log("QR Code generated!")})):console.error("Canvas element not found")},L=async()=>{const e=await g.checkQQLoginStatusWithQrcode();e?.isLogin?(v&&clearInterval(v),await se.success("登录成功即将跳转"),await t.push({path:"/dashboard/basic-info"})):e?.qrcodeurl&&x!==e.qrcodeurl&&(x=e.qrcodeurl,C(x,m.value))};return o((()=>{(async()=>{n.value=await g.getQQQuickLoginList(),x=await g.getQQLoginQrcode(),C(x,m.value),v=window.setInterval(L,3e3)})()})),(e,t)=>{const l=f("t-button"),o=f("t-tooltip"),g=f("t-option"),v=f("t-select"),x=f("t-footer"),C=f("t-card");return p(),h(C,{class:"layout",bordered:!1},{default:c((()=>[r("div",ca,[t[5]||(t[5]=r("h2",{class:"sotheby-font"},"QQ Login",-1)),r("div",da,[s(o,{content:"快速登录"},{default:c((()=>[s(l,{id:"quick-login",class:_(["login-method",{active:"quick"===a.value}]),onClick:t[0]||(t[0]=e=>a.value="quick")},{default:c((()=>t[3]||(t[3]=[w("Quick Login")]))),_:1},8,["class"])])),_:1}),s(o,{content:"二维码登录"},{default:c((()=>[s(l,{id:"qrcode-login",class:_(["login-method",{active:"qrcode"===a.value}]),onClick:t[1]||(t[1]=e=>a.value="qrcode")},{default:c((()=>t[4]||(t[4]=[w("QR Code")]))),_:1},8,["class"])])),_:1})]),V(r("div",ua,[s(v,{id:"quick-login-select",modelValue:d.value,"onUpdate:modelValue":t[2]||(t[2]=e=>d.value=e),placeholder:"Select Account",onChange:k},{default:c((()=>[(p(!0),i(u,null,y(n.value,(e=>(p(),h(g,{key:e,value:e},{default:c((()=>[w(b(e),1)])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue"])],512),[[S,"quick"===a.value]]),V(r("div",fa,[r("canvas",{ref_key:"qrcodeCanvas",ref:m},null,512)],512),[[S,"qrcode"===a.value]])]),s(x,{class:"footer"},{default:c((()=>t[6]||(t[6]=[w("Power By NapCat.WebUi")]))),_:1})])),_:1})}}}),ma=ct(pa,[["__scopeId","data-v-b2627c4e"]]),ga={class:"login-container"},va=a({__name:"WebUiLogin",setup(e){const t=le(),a=L({token:""}),l=e=>{se.error(e)},n=async()=>{const e=localStorage.getItem("auth");if(!e)return;const a=new Jt(e),l=await a.checkWebUiLogined();console.log("isWenUiLoggedIn",l),l&&(await a.checkQQLoginStatus()?await t.push({path:"/dashboard/basic-info"}):await t.push({path:"/qqlogin"}))},i=async e=>{const t=new Jt(""),a=await t.loginWithToken(e);a?await(async e=>{localStorage.setItem("auth",e),await n()})(a):l("登录失败，请检查Token")};o((()=>{const e=new URL(window.location.href).searchParams.get("token");e&&i(e),n()}));const d=async({validateResult:e})=>{e?await i(a.token):l("请填写Token")};return(e,t)=>{const l=f("t-input"),o=f("t-form-item"),n=f("t-button"),i=f("t-form"),u=f("t-footer"),g=f("t-card");return p(),h(g,{class:"layout",bordered:!1},{default:c((()=>[r("div",ga,[t[2]||(t[2]=r("h2",{class:"sotheby-font"},"WebUi Login",-1)),s(i,{ref:"form",data:a,colon:"","label-width":0,onSubmit:d},{default:c((()=>[s(o,{name:"password"},{default:c((()=>[s(l,{modelValue:a.token,"onUpdate:modelValue":t[0]||(t[0]=e=>a.token=e),type:"password",clearable:"",placeholder:"请输入Token"},{"prefix-icon":c((()=>[s(m(te))])),_:1},8,["modelValue"])])),_:1}),s(o,null,{default:c((()=>[s(n,{theme:"primary",type:"submit",block:""},{default:c((()=>t[1]||(t[1]=[w("登录")]))),_:1})])),_:1})])),_:1},8,["data"])]),s(u,{class:"footer"},{default:c((()=>t[3]||(t[3]=[w("Power By NapCat.WebUi")]))),_:1})])),_:1})}}}),ha={class:"title"},ba={style:{display:"flex","justify-content":"center","align-items":"center"}},ya={class:"other-config-container"},wa={class:"other-config"},xa={class:"button-container"},ka=[{path:"/",redirect:"/webui"},{path:"/webui",component:ct(va,[["__scopeId","data-v-27371bf8"]]),name:"WebUiLogin"},{path:"/qqlogin",component:ma,name:"QQLogin"},{path:"/dashboard",component:mt,children:[{path:"",redirect:"basic-info"},{path:"basic-info",component:vt,name:"BasicInfo"},{path:"network-config",component:sa,name:"NetWork"},{path:"log-view",component:At,name:"LogView"},{path:"other-config",component:ct(a({__name:"OtherConfig",setup(e){const t=l({musicSignUrl:"",enableLocalFile2Url:!1,parseMultMsg:!0}),a=l(),n=async()=>{const e=localStorage.getItem("auth");if(!e)return void console.error("No stored credential found");const t=new Jt(e);return await t.GetOB11Config()},d=async()=>{try{const e=await n();e&&(e.musicSignUrl=t.value.musicSignUrl||"",e.enableLocalFile2Url=t.value.enableLocalFile2Url??!1,e.parseMultMsg=t.value.parseMultMsg??!0,await(async e=>{const t=localStorage.getItem("auth");if(!t)return console.error("No stored credential found"),!1;const a=new Jt(t);return await a.SetOB11Config(e)})(e)?se.success("配置保存成功"):se.error("配置保存失败"))}catch(e){console.error("Error saving config:",e),se.error("配置保存失败")}};return o((()=>{(async()=>{try{const e=await n();e&&(t.value.musicSignUrl=e.musicSignUrl,t.value.enableLocalFile2Url=e.enableLocalFile2Url,t.value.parseMultMsg=e.parseMultMsg)}catch(e){console.error("Error loading config:",e)}})();const e=window.matchMedia("(max-width: 768px)"),l=e=>{e.matches?a.value="top":a.value="left"};e.addEventListener("change",l);const o=new Event("change");return Object.defineProperty(o,"matches",{value:e.matches,writable:!1}),e.dispatchEvent(o),()=>{e.removeEventListener("change",l)}})),(e,l)=>{const o=f("t-divider"),n=f("t-input"),g=f("t-form-item"),v=f("t-switch"),h=f("t-form"),b=f("t-button"),y=f("t-card");return p(),i(u,null,[r("div",ha,[s(o,{content:"其余配置",align:"left"},{content:c((()=>[r("div",ba,[s(m(ae)),l[3]||(l[3]=r("div",{style:{"margin-left":"5px"}},"其余配置",-1))])])),_:1})]),s(y,{class:"card"},{default:c((()=>[r("div",ya,[r("div",wa,[s(h,{ref:"form",model:t.value,"label-align":a.value,"label-width":"auto",colon:""},{default:c((()=>[s(g,{label:"音乐签名地址",name:"musicSignUrl",class:"form-item"},{default:c((()=>[s(n,{modelValue:t.value.musicSignUrl,"onUpdate:modelValue":l[0]||(l[0]=e=>t.value.musicSignUrl=e)},null,8,["modelValue"])])),_:1}),s(g,{label:"启用本地文件到URL",name:"enableLocalFile2Url",class:"form-item"},{default:c((()=>[s(v,{modelValue:t.value.enableLocalFile2Url,"onUpdate:modelValue":l[1]||(l[1]=e=>t.value.enableLocalFile2Url=e)},null,8,["modelValue"])])),_:1}),s(g,{label:"启用上报解析合并消息",name:"parseMultMsg",class:"form-item"},{default:c((()=>[s(v,{modelValue:t.value.parseMultMsg,"onUpdate:modelValue":l[2]||(l[2]=e=>t.value.parseMultMsg=e)},null,8,["modelValue"])])),_:1})])),_:1},8,["model","label-align"]),r("div",xa,[s(b,{onClick:d},{default:c((()=>l[4]||(l[4]=[w("保存")]))),_:1})])])])])),_:1})],64)}}}),[["__scopeId","data-v-e4afc51d"]]),name:"OtherConfig"},{path:"about-us",component:jt,name:"AboutUs"}]}],_a=oe({history:ne(),routes:ka}),Ca=U(at);Ca.use(_a),Ca.use(ce),Ca.use(de),Ca.use(ue),Ca.use(fe),Ca.use(pe),Ca.use(me),Ca.use(ge),Ca.use(ve),Ca.use(he),Ca.use(be),Ca.use(ye),Ca.use(we),Ca.use(xe),Ca.use(ke),Ca.use(_e),Ca.use(Ce),Ca.use(Ve),Ca.use(Se),Ca.use(Le),Ca.use(Ue),Ca.use(Qe),Ca.use(Pe),Ca.use(je),Ca.use(Te),Ca.use(Me),Ca.use(Ee),Ca.use(Ie),Ca.use(ze),Ca.use(Ne),Ca.use(Fe),Ca.use(Oe),Ca.use(We),Ca.use(Ae),Ca.use(qe),Ca.use(Be),Ca.use(Re),Ca.use(Ge),Ca.use(He),Ca.use($e),Ca.use(De),Ca.use(Je),Ca.use(Ke),Ca.use(Ye),Ca.use(Xe),Ca.mount("#app")}}}));
